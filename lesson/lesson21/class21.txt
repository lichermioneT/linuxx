缓冲
  存在是为了提高效率
  缓存区就是一块内存

立即刷新
行刷新
缓冲区满了

用户强制刷新
文件关闭

FILE---操作系统---磁盘上。

磁盘的物理结构
  磁盘的慢是相对于CPU和内存。

磁道 磁头来回转动
扇区 盘片高速旋转 (技术难点)

柱面寻找

如何在磁盘中，定位任何一个扇区。
  先定位在一个磁道，然后定位磁头(定位盘面)，最后定位哪一个扇区域。
  cylinder head sector  CHS定位法


磁盘的逻辑结构
磁盘物理上是圆形的-----想象成线性结构。
第零页 ------ 第N页。
    对磁盘进行管理就是对数组进行管理。
    要找到一个扇区，改怎么找呢？-----》知道扇区的下标就算定位了一个扇区了。。LBA地址(逻辑块地址)。
    

盘面4
磁道10
扇区100 

为什么OS要进行逻辑抽象呢？ 直接用CHS不行吗？
  方便管理
  不想OS的代码和硬件强耦合！

磁盘访问的基本单位是512字节，但是依旧很小。 OS内的文件系统定制多个扇区的读取。1kb,2kb,4kb为基础
  哪怕是1bit位，  将4kbload到内存里面，进行读取或者修改，有必要，在写回磁盘。
  
  局部性原理！
  内存是被划分成为4kb大小的空间。页框。
  磁盘中的文件，尤其是可执行文件---按照4kb大小划分好的块。页帧
  
文件 = 内容 + 属性。 linux的文件属性和文件内容是分批存储的。
super block保存整个文件系统的信息。
Inode是固定大小。一个文件一个Inode,文件的几乎所有属性都在inode, 文件名不在inode里面。
data block 随着应用类型的变化，大小也在变化。分组内部所有文件的数据块。
inode table保存了分组内部，所有可以使用的+不可以使用的inode
inode bitmap是inode对应的位图结构，和当前文件对应的inode的位置一一对应的！
data block数据块对应的位图结构，
GDT 块足描述表。分组的宏观信息。


查找文件的时候，统一使用inode编号。

struct inode
{
  int id;
  mode_t mode;
  uid;
  gdt;
  size;

  data_block blocks[15]; // 指向的是数据块，数据块也可以是其它数据块。
}


(分布式)
  
目录的数据块放什么呢？
  当前目录下文件名和inode的映射关系

